{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","removePerson","name","number","onClick","Persons","results","map","item","Filter","searchTerm","handleChange","value","onChange","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Notification","message","style","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","setStyle","useEffect","personService","initialPersons","filter","toLowerCase","includes","toLocaleLowerCase","event","target","preventDefault","personObject","duplicateName","some","duplicateNumber","window","alert","find","changedPerson","confirm","setTimeout","returnedPerson","concat","del","catch","error","ReactDOM","render","document","getElementById"],"mappings":"4MAEMA,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB9B,EAfA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVA,SAACG,EAAIH,GAElB,OADgBJ,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMH,GAC/BF,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQ9B,EALA,SAACG,GAEd,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAACC,GAAD,OAAcA,EAASC,SCV9BM,EATA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,gCACGD,EAAOE,KADV,IACiBF,EAAOG,OAAQ,IAC9B,wBAAQC,QAAS,WAAOH,EAAaD,EAAOJ,GAAII,EAAOE,OAAvD,wBCOSG,EAVC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASL,EAAmB,EAAnBA,aAC1B,OACE,mCACGK,EAAQC,KAAI,SAACC,GAAD,OACX,cAAC,EAAD,CAAwBR,OAAQQ,EAAMP,aAAcA,GAAvCO,EAAKN,YCGXO,EARA,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAC5B,OACE,qDACoB,uBAAOC,MAAOF,EAAYG,SAAUF,QCmB7CG,EAtBI,SAAC,GAMb,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,mBAEA,OACE,mCACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOH,MAAOI,EAASH,SAAUK,IADzC,IAC8D,uBAD9D,WAEU,uBAAON,MAAOK,EAAWJ,SAAUM,OAE7C,8BACE,wBAAQE,KAAK,SAAb,yBCRKC,EAPM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAC/B,OAAgB,OAAZD,EACK,KAEF,qBAAKE,UAAWD,EAAhB,SAAwBD,KC2HlBG,EA1HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETX,EAFS,KAEAc,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTV,EAHS,KAGEc,EAHF,OAIoBJ,mBAAS,IAJ7B,mBAITjB,EAJS,KAIGsB,EAJH,OAKcL,mBAAS,MALvB,mBAKTJ,EALS,KAKAU,EALA,OAMUN,mBAAS,IANnB,mBAMTH,EANS,KAMFU,EANE,KAQhBC,qBAAU,WACRC,IAAuB7C,MAAK,SAAC8C,GAC3BR,EAAWQ,QAEZ,IAEH,IAmFM/B,EAAWI,EAEbkB,EAAQU,QAAO,SAACtC,GAAD,OACbA,EAAOE,KAAKqC,cAAcC,SAAS9B,EAAW+B,wBAFhDb,EAKJ,OACE,gCACE,2CACA,cAAC,EAAD,CAAcJ,MAAOA,EAAOD,QAASA,IACrC,cAAC,EAAD,CAAQZ,aAnCS,SAAC+B,GACpBV,EAAcU,EAAMC,OAAO/B,QAkCWF,WAAYA,IAChD,2CACA,cAAC,EAAD,CACEK,UAhGY,SAAC2B,GACjBA,EAAME,iBACN,IAAMC,EAAe,CACnB3C,KAAMc,EACNb,OAAQc,GAGJ6B,EAAgBlB,EAAQmB,MAAK,SAAC/C,GAAD,OAAYA,EAAOE,OAASc,KACzDgC,EAAkBpB,EAAQmB,MAC9B,SAAC/C,GAAD,OAAYA,EAAOG,SAAWc,KAGhC,GAAK6B,GASE,GAAIA,GAAiBE,EAC1BC,OAAOC,MAAP,UAAgBlC,EAAhB,4CACK,GAAI8B,IAAkBE,EAAiB,CAC5C,IAAMhD,EAAS4B,EAAQuB,MAAK,SAACnD,GAAD,OAAYA,EAAOE,OAASc,KAClDoC,EAAa,2BAAQpD,GAAR,IAAgBG,OAAQc,IAC3CgC,OAAOI,QAAP,UACKrC,EADL,2EAGIoB,EACUgB,EAAcxD,GAAIwD,GACzB7D,MAAK,SAACC,GACLqC,EACED,EAAQrB,KAAI,SAACP,GAAD,OACVA,EAAOJ,KAAOwD,EAAcxD,GAAKI,EAASR,MAG9C0C,EAAS,WACTD,EAAW,WAAD,OAAYY,EAAa3C,OACnCoD,YAAW,WACTrB,EAAW,QACV,QAEPJ,EAAWD,SA9BfQ,EAAqBS,GAActD,MAAK,SAACgE,GACvC1B,EAAWD,EAAQ4B,OAAOD,IAC1BrB,EAAS,WACTD,EAAW,SAAD,OAAUY,EAAa3C,OACjCoD,YAAW,WACTrB,EAAW,QACV,QA2BPH,EAAW,IACXC,EAAa,KAkDTf,QAASA,EACTC,UAAWA,EACXC,iBAjDmB,SAACwB,GACxBZ,EAAWY,EAAMC,OAAO/B,QAiDpBO,mBA9CqB,SAACuB,GAC1BX,EAAaW,EAAMC,OAAO/B,UA+CxB,yCACA,cAAC,EAAD,CAASN,QAASA,EAASL,aAzCV,SAACL,EAAIM,GACpB+C,OAAOI,QAAP,iBAAyBnD,EAAzB,OACFkC,EACUxC,GACPL,MAAK,WACJ,IAAMkE,EAAM7B,EAAQU,QAAO,SAACtC,GAAD,OAAYJ,IAAOI,EAAOJ,MACrDiC,EAAW4B,MAEZC,OAAM,SAACC,GACNzB,EAAS,SACTD,EAAW,kBAAD,OACU/B,EADV,0CAGVoD,YAAW,WACTrB,EAAW,MACXJ,EAAWD,EAAQU,QAAO,SAACtC,GAAD,OAAYJ,IAAOI,EAAOJ,SACnD,eC9FbgE,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.d1690684.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, data) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, data);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, removePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}{\" \"}\r\n      <button onClick={() => {removePerson(person.id, person.name)}}>delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ results, removePerson }) => {\r\n  return (\r\n    <>\r\n      {results.map((item) => (\r\n        <Person key={item.name} person={item} removePerson={removePerson} />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ searchTerm, handleChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={searchTerm} onChange={handleChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  newNumber,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} /> <br />\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, style }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div className={style}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\nimport Persons from \"./components/Persons\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [style, setStyle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    const duplicateName = persons.some((person) => person.name === newName);\r\n    const duplicateNumber = persons.some(\r\n      (person) => person.number === newNumber\r\n    );\r\n\r\n    if (!duplicateName) {\r\n      personService.create(personObject).then((returnedPerson) => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        setStyle(\"success\");\r\n        setMessage(`Added ${personObject.name}`);\r\n        setTimeout(() => {\r\n          setMessage(null);\r\n        }, 5000);\r\n      });\r\n    } else if (duplicateName && duplicateNumber) {\r\n      window.alert(`${newName} is already added to the phonebook`);\r\n    } else if (duplicateName && !duplicateNumber) {\r\n      const person = persons.find((person) => person.name === newName);\r\n      const changedPerson = { ...person, number: newNumber };\r\n      window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one?`\r\n      )\r\n        ? personService\r\n            .update(changedPerson.id, changedPerson)\r\n            .then((response) => {\r\n              setPersons(\r\n                persons.map((person) =>\r\n                  person.id !== changedPerson.id ? person : response\r\n                )\r\n              );\r\n              setStyle(\"success\");\r\n              setMessage(`Updated ${personObject.name}`);\r\n              setTimeout(() => {\r\n                setMessage(null);\r\n              }, 5000);\r\n            })\r\n        : setPersons(persons);\r\n    }\r\n\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const removePerson = (id, name) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          const del = persons.filter((person) => id !== person.id);\r\n          setPersons(del);\r\n        })\r\n        .catch((error) => {\r\n          setStyle(\"error\");\r\n          setMessage(\r\n            `Information of ${name} has already been removed from server`\r\n          );\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n            setPersons(persons.filter((person) => id !== person.id));\r\n          }, 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const results = !searchTerm\r\n    ? persons\r\n    : persons.filter((person) =>\r\n        person.name.toLowerCase().includes(searchTerm.toLocaleLowerCase())\r\n      );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification style={style} message={message} />\r\n      <Filter handleChange={handleChange} searchTerm={searchTerm} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons results={results} removePerson={removePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}